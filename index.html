<!DOCTYPE html>
<html>
<head>
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.15.1/dist/phaser-arcade-physics.min.js"></script>
</head>
<body>

    <script>
const config = {
    type: Phaser.AUTO,
    width: 800,
    height: 600,
    physics: {
        default: 'arcade',
        arcade: {
            gravity: { y: 495  },
            debug: false
        }
    },
    scene: {
        preload: preload,
        create: create,
        update: update
    }
};

    var game = new Phaser.Game(config);

    function preload()
    {
        this.load.image('background', 'assets/hospitalbg.png');
        this.load.image('sky', 'assets/sky.png');
        this.load.image('ground', 'assets/platform.png');
        this.load.image('star', 'assets/star.png');
        this.load.image('bomb', 'assets/bomb.png');

        this.load.spritesheet('dude', 
            'assets/dude.png',
            { frameWidth: 32, frameHeight: 48 }
        );

        this.load.audio('music',
        ['assets/sounds/world-2.mp3'],
        ['assets/sounds/world-3.mp3'],
        ['assets/sounds/boss.mp3']);
    }

    var platforms;
    var player;

    function create()
    {
        this.add.image(400, 300, 'background');
        this.add.image(400, 300, 'star');

        this.music = this.sound.add('music');

        var musicConfig = {
            mute: false,
            volume: 1,
            rate: 1,
            detune: 0,
            seek: 0,
            loop: true,
            delay: 0
        }

        this.music.play(musicConfig,);

        platforms = this.physics.add.staticGroup();

        platforms.create(400, 568, 'ground').setScale(2).refreshBody();

        platforms.create(600, 400, 'ground');
        platforms.create(50, 250, 'ground');
        platforms.create(750, 220, 'ground')

        player = this.physics.add.sprite(100, 500, 'dude');

        player.body.setGravityY(1000)
        player.setBounce(0.1);
        player.setCollideWorldBounds(true);

        this.physics.add.collider(player, platforms);

this.anims.create({
    key: 'left',
    frames: this.anims.generateFrameNumbers('dude', { start: 0, end: 3 }),
    frameRate: 10,
    repeat: -1
});

this.anims.create({
    key: 'turn',
    frames: [ { key: 'dude', frame: 4 } ],
    frameRate: 20
});

this.anims.create({
    key: 'right',
    frames: this.anims.generateFrameNumbers('dude', { start: 5, end: 8 }),
    frameRate: 10,
    repeat: -1
});
    }

    function update()
    {
        cursors = this.input.keyboard.createCursorKeys();

        if (cursors.left.isDown)
        {
            player.setVelocityX(-160);

            player.anims.play('left', true);
        }

        else if (cursors.right.isDown)
        {
            player.setVelocityX(160);

            player.anims.play('right', true);
        }

        else
        {
            player.setVelocityX(0);

            player.anims.play('turn');
        }

        if (cursors.space.isDown && player.body.touching.down)
        {
            player.setVelocityY(-750);
        }

        else if (cursors.down.isDown)
        {
            player.setVelocityY(500) ;
        }

        if (cursors.shift.isDown && cursors.right.isDown)
        {
            player.setVelocityX(350);
        }
        
        else if (cursors.shift.isDown && cursors.left.isDown)
        {
            player.setVelocityX(-350);
        }
    }
    </script>

</body>
</html>